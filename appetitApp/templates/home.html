{# djlint:off #}
{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="container h-24"></div>
{% comment %} header and search {% endcomment %}
<div class="container mb-7">
  <h1 class="text-4xl leading-7 font-serif tracking-tighter">Welcome, <br>Hannah{{ user.name }}</h1>
</div>

{% comment %} search functionality {% endcomment %}
<div class="container mb-7">
  <form action="{% url "search_recipes" %}" method="post" class="flex w-full px-2 h-14 rounded-full border">
    <button type="submit"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
      <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
    </svg></button>
    <input  type="text" name="recipe" id="" placeholder="search" class="bg-neutral-50 border-0">
  </form>
</div>

{% comment %} categories {% endcomment %}
<div class="container mb-7 overflow-x-auto flex gap-2">
  {% for tag in cuisines %}
  {% if tag.name in tags %}
  <div class="flex flex-col items-center text-center">
    <div class="h-20 w-20 bg-card-bg rounded-full"></div>
    <a href="">
      <p class="text-sm">
        {{ tag.display_name }}
      </p>
    </a>
  </div>
  {% endif %}
  {% endfor %}
</div>

{% comment %} most popular {% endcomment %}
<div class="container mb-7">
  <h2 class="text-3xl font-serif tracking-tighter">
    Trending Now
  </h2>
  <div class="relative mt-4">
    <div class="relative -mb-6 w-full overflow-x-auto pb-6">
      <ul role="list" class="inline-flex space-x-2 lg:grid lg:grid-cols-4 lg:gap-x-8 lg:space-x-0">
        {% for recipe in popular_recipes %}
        <li class="inline-flex w-44 flex-col lg:w-auto">
          <div class="group relative">
            <div class="aspect-h-4 aspect-w-3 w-full overflow-hidden rounded-[16px] bg-gray-200">
              <img src="{{ recipe.thumbnail_url }}" alt="{{ recipe.name }}" class="h-full w-full object-cover object-center group-hover:opacity-75">
            </div>
            <div class="mt-3 w-[90%]">
              <h3 class="mt-0 mb-1 text-xl font-serif tracking-tighter leading-5 text-gray-900">
                <a href="{% url "detail" recipe.id %}">
                  <span class="absolute inset-0"></span>
                  {{ recipe.name }}
                </a>
              </h3>
              <p class="mt-0 text-sm leading-4 pr-1 text-gray-900 line-clamp-2">{{ recipe.yields }}</p>
            </div>
          </div>
        </li>

        {% endfor %}
      </ul>
    </div>
  </div>

</div>

{% comment %} recipes that the user has created {% endcomment %}
<div class="container mb-7">
  <h2 class="text-3xl font-serif tracking-tighter">
    Your Recipes
  </h2>
  <div class="w-full flex flex-col gap-1">
  {% for recipe in user_recipes %}
    <div class="w-full border rounded-lg p-2">
      <a href="{% url "user_recipe" recipe.id %}">
        <h2 class="font-serif tracking-tighter text-lg">
          {{ recipe.name }}
        </h2>
      </a>
    </div>
  {% endfor %}
  </div>

</div>

<script src="{% static "js/homepage.js" %}"></script>
{% endblock %}
